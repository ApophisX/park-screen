(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44d9ee9c"],{"22f3":function(e,t,n){"use strict";n("99cf")},"99cf":function(e,t,n){},cfbb:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"screenWrapper",staticClass:"screen-wrapper",style:e.wrapperStyle},[e._t("default")],2)])},i=[],a=n("c7eb"),c=n("1da1"),s=n("53ca");n("99af"),n("a9e3"),n("d3b7");function o(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n=setTimeout((function(){"function"===typeof e&&e.apply(null,i),clearTimeout(n)}),t>0?t:100)}}var u={name:"VScaleScreen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},selfAdaption:{type:Boolean,default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:function(){return{}}},wrapperStyle:{type:Object,default:function(){return{}}}},data:function(){return{currentWidth:0,currentHeight:0,originalWidth:0,originalHeight:0,onResize:null,observer:null}},computed:{screenWrapper:function(){return this.$refs["screenWrapper"]}},watch:{selfAdaption:function(e){e?(this.resize(),this.addListener()):(this.clearListener(),this.clearStyle())}},mounted:function(){var e=this;this.onResize=o((function(){e.resize()}),this.delay),this.$nextTick((function(){e.selfAdaption&&(e.resize(),e.addListener())}))},beforeDestroy:function(){this.clearListener()},methods:{initSize:function(){var e=this;return new Promise((function(t,n){e.screenWrapper.parentNode.style.overflow="hidden",e.screenWrapper.parentNode.scrollLeft=0,e.screenWrapper.parentNode.scrollTop=0,e.$nextTick((function(){e.width&&e.height?(e.currentWidth=e.width,e.currentHeight=e.height):(e.currentWidth=e.screenWrapper.clientWidth,e.currentHeight=e.screenWrapper.clientHeight),e.originalHeight&&e.originalWidth||(e.originalWidth=window.screen.width,e.originalHeight=window.screen.height),t(),console.log(n)}))}))},updateSize:function(){this.currentWidth&&this.currentHeight?(this.screenWrapper.style.width="".concat(this.currentWidth,"px"),this.screenWrapper.style.height="".concat(this.currentHeight,"px")):(this.screenWrapper.style.width="".concat(this.originalWidth,"px"),this.screenWrapper.style.height="".concat(this.originalHeight,"px"))},handleAutoScale:function(e){if(this.autoScale){var t=this.screenWrapper,n=t.clientWidth,r=t.clientHeight,i=document.body.clientWidth,a=document.body.clientHeight;t.style.transform="scale(".concat(e,",").concat(e,") ");var c=Math.max((i-n*e)/2,0),o=Math.max((a-r*e)/2,0);"object"===Object(s["a"])(this.autoScale)&&(!this.autoScale.x&&(c=0),!this.autoScale.y&&(o=0)),this.screenWrapper.style.margin="".concat(o,"px ").concat(c,"px")}},updateScale:function(){var e=this.screenWrapper,t=document.body.clientWidth,n=document.body.clientHeight,r=this.currentWidth||this.originalWidth,i=this.currentHeight||this.originalHeight,a=t/r,c=n/i;if(this.fullScreen)return e.style.transform="scale(".concat(a,",").concat(c,")"),!1;var s=Math.min(a,c);this.handleAutoScale(s)},initMutationObserver:function(){var e=this,t=this.screenWrapper,n=this.observer=new MutationObserver((function(){e.onResize()}));n.observe(t,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},clearListener:function(){window.removeEventListener("resize",this.onResize)},addListener:function(){window.addEventListener("resize",this.onResize)},clearStyle:function(){var e=this.screenWrapper;e.parentNode.style.overflow="auto",e.style=""},resize:function(){var e=this;return Object(c["a"])(Object(a["a"])().mark((function t(){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selfAdaption){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.initSize();case 4:e.updateSize(),e.updateScale();case 6:case"end":return t.stop()}}),t)})))()}}},l=u,h=(n("22f3"),n("2877")),p=Object(h["a"])(l,r,i,!1,null,"28297582",null);t["default"]=p.exports}}]);